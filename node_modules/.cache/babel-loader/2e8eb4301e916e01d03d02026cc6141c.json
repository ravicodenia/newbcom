{"ast":null,"code":"var _jsxFileName = \"/Users/ravisrivastava/Downloads/newbcom2/newbcom/src/components/Login/otpVerification.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from \"react\";\nimport * as apiService from \"../../services\";\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst OTPverification = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [otp, setOtp] = useState(\"\");\n  const [email, setUseremail] = useState(\"\");\n  const [verifyApiData, setVerifyApiData] = useState([]);\n  const [sendmsg, setsendmsg] = useState(\"\");\n  const [otpError, setOtpError] = useState(\"\");\n  useEffect(() => {\n    setUsername(localStorage.getItem(\"username\"));\n    setUseremail(localStorage.getItem(\"email\"));\n  }, []);\n\n  const fetchDataVerifyOtp = async () => {\n    try {\n      const data = await apiService.verifyOtp({\n        userName: username,\n        otp: otp\n      });\n      setVerifyApiData(data);\n\n      if (data.data === null) {\n        // setOtpError(data.error.message);\n        toast(data.error.message);\n        return;\n      }\n\n      if (data.data.accessToken && data.data.refreshToken) {\n        localStorage.setItem('accessToken', data.data.accessToken);\n        localStorage.setItem('refreshToken', data.data.refreshToken);\n      } else {\n        console.error('Error: Invalid response data');\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  }; // submit btn fucntion\n\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setUsername(localStorage.getItem(\"username\")); // Form validation\n\n    if (!otp || otp.length !== 6) {\n      // setOtpError(\"\");\n      toast(\"Please enter a valid OTP (6 digits)\");\n      return;\n    }\n\n    setOtpError(\"\");\n    console.log(\"otp sent\");\n    fetchDataVerifyOtp();\n  };\n\n  const inputs = useRef([]);\n\n  const handleInputChange = (index, e) => {\n    const value = e.target.value; // Restrict input to only one character\n\n    if (value.length > 1) {\n      e.target.value = value.slice(0, 1);\n    } // Move cursor to the next input box if there is a value\n\n\n    if (value.length === 1 && index < inputs.current.length - 1) {\n      inputs.current[index + 1].focus();\n    } // Update the OTP state\n\n\n    const updatedOtp = inputs.current.map(input => input.value).join('');\n    setOtp(updatedOtp);\n    setOtpError(\"\");\n  };\n\n  const handleKeyDown = (index, e) => {\n    // If the user pressed the backspace key and the current input box is empty,\n    // move the focus to the previous input box\n    if (e.keyCode === 8 && e.target.value === \"\" && index > 0) {\n      e.preventDefault(); // Prevent default behavior of the backspace key\n\n      inputs.current[index - 1].focus(); // Move focus to the previous input box\n    }\n  };\n\n  const fetchDataResendOtp = async () => {\n    try {\n      const data = await apiService.resendOtp({\n        userName: username\n      });\n      setsendmsg(data.error.message);\n    } catch (error) {\n      console.error(\"Error:\", error);\n    }\n  };\n\n  const resendBtn = e => {\n    e.preventDefault();\n    setUsername(localStorage.getItem(\"username\"));\n    fetchDataResendOtp();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"otpverification\",\n      style: {\n        display: \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-5 mt-5 border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"OTP Verification\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-muted\",\n                children: [\"OTP sent successfully to the email \", email]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"otp-field\",\n                  children: [[...Array(6)].map((_, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n                    ref: el => inputs.current[index] = el,\n                    id: `otpinput${index + 1}`,\n                    type: \"number\",\n                    maxLength: 1,\n                    onChange: e => handleInputChange(index, e),\n                    onKeyDown: e => handleKeyDown(index, e) // Add this line\n\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 23\n                  }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"d-none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 137,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error-message text-danger my-2\",\n                  children: otpError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-1 text-muted\",\n                  children: \"Didn't recieve OTP code? \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"resendOTP\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    onClick: resendBtn,\n                    children: \"Resend Code \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 21\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: sendmsg\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-4 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    href: \"/Home\",\n                    className: \"btn btn-primary w-100 verify\",\n                    type: \"submit\",\n                    children: [\" \", \"Verify & Proceed\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(OTPverification, \"GLVEvm8Yu/9mbg91s82JBl5Py2Q=\");\n\n_c = OTPverification;\nexport default OTPverification;\n\nvar _c;\n\n$RefreshReg$(_c, \"OTPverification\");","map":{"version":3,"sources":["/Users/ravisrivastava/Downloads/newbcom2/newbcom/src/components/Login/otpVerification.jsx"],"names":["useEffect","useState","useRef","apiService","toast","OTPverification","username","setUsername","otp","setOtp","email","setUseremail","verifyApiData","setVerifyApiData","sendmsg","setsendmsg","otpError","setOtpError","localStorage","getItem","fetchDataVerifyOtp","data","verifyOtp","userName","error","message","accessToken","refreshToken","setItem","console","handleSubmit","e","preventDefault","length","log","inputs","handleInputChange","index","value","target","slice","current","focus","updatedOtp","map","input","join","handleKeyDown","keyCode","fetchDataResendOtp","resendOtp","resendBtn","display","Array","_","el"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,EAA6BC,MAA7B,QAA2C,OAA3C;AACA,OAAO,KAAKC,UAAZ,MAA4B,gBAA5B;AACA,SAASC,KAAT,QAAsB,gBAAtB;;;AAEA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC5B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,GAAD,EAAMC,MAAN,IAAgBR,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACS,KAAD,EAAQC,YAAR,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACW,aAAD,EAAeC,gBAAf,IAAmCZ,QAAQ,CAAC,EAAD,CAAjD;AACA,QAAM,CAACa,OAAD,EAASC,UAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AAEA,QAAM,CAACe,QAAD,EAAWC,WAAX,IAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,WAAW,CAACW,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAX;AACAR,IAAAA,YAAY,CAACO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAZ;AACD,GAHQ,EAGP,EAHO,CAAT;;AAKA,QAAMC,kBAAkB,GAAG,YAAY;AACrC,QAAI;AACF,YAAMC,IAAI,GAAG,MAAMlB,UAAU,CAACmB,SAAX,CAAqB;AACtCC,QAAAA,QAAQ,EAAEjB,QAD4B;AAEtCE,QAAAA,GAAG,EAAEA;AAFiC,OAArB,CAAnB;AAIAK,MAAAA,gBAAgB,CAACQ,IAAD,CAAhB;;AAEA,UAAGA,IAAI,CAACA,IAAL,KAAc,IAAjB,EAAsB;AACpB;AACAjB,QAAAA,KAAK,CAACiB,IAAI,CAACG,KAAL,CAAWC,OAAZ,CAAL;AACA;AACD;;AAED,UAAIJ,IAAI,CAACA,IAAL,CAAUK,WAAV,IAAyBL,IAAI,CAACA,IAAL,CAAUM,YAAvC,EAAqD;AACnDT,QAAAA,YAAY,CAACU,OAAb,CAAqB,aAArB,EAAoCP,IAAI,CAACA,IAAL,CAAUK,WAA9C;AACAR,QAAAA,YAAY,CAACU,OAAb,CAAqB,cAArB,EAAqCP,IAAI,CAACA,IAAL,CAAUM,YAA/C;AACD,OAHD,MAGO;AACLE,QAAAA,OAAO,CAACL,KAAR,CAAc,8BAAd;AACD;AACF,KAnBD,CAmBE,OAAOA,KAAP,EAAc;AACdK,MAAAA,OAAO,CAACL,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD;AACF,GAvBD,CAd4B,CAwC5B;;;AACA,QAAMM,YAAY,GAAG,MAAOC,CAAP,IAAa;AAChCA,IAAAA,CAAC,CAACC,cAAF;AACAzB,IAAAA,WAAW,CAACW,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAX,CAFgC,CAG9B;;AACA,QAAI,CAACX,GAAD,IAAQA,GAAG,CAACyB,MAAJ,KAAe,CAA3B,EAA8B;AAC5B;AACA7B,MAAAA,KAAK,CAAC,qCAAD,CAAL;AACA;AACD;;AAEDa,IAAAA,WAAW,CAAC,EAAD,CAAX;AAEFY,IAAAA,OAAO,CAACK,GAAR,CAAY,UAAZ;AACCd,IAAAA,kBAAkB;AACpB,GAdD;;AAgBA,QAAMe,MAAM,GAAGjC,MAAM,CAAC,EAAD,CAArB;;AAEA,QAAMkC,iBAAiB,GAAG,CAACC,KAAD,EAAQN,CAAR,KAAc;AACtC,UAAMO,KAAK,GAAGP,CAAC,CAACQ,MAAF,CAASD,KAAvB,CADsC,CAGtC;;AACA,QAAIA,KAAK,CAACL,MAAN,GAAe,CAAnB,EAAsB;AACpBF,MAAAA,CAAC,CAACQ,MAAF,CAASD,KAAT,GAAiBA,KAAK,CAACE,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAjB;AACD,KANqC,CAQtC;;;AACA,QAAIF,KAAK,CAACL,MAAN,KAAiB,CAAjB,IAAsBI,KAAK,GAAGF,MAAM,CAACM,OAAP,CAAeR,MAAf,GAAwB,CAA1D,EAA6D;AAC3DE,MAAAA,MAAM,CAACM,OAAP,CAAeJ,KAAK,GAAG,CAAvB,EAA0BK,KAA1B;AACD,KAXqC,CAatC;;;AACA,UAAMC,UAAU,GAAGR,MAAM,CAACM,OAAP,CAAeG,GAAf,CAAmBC,KAAK,IAAIA,KAAK,CAACP,KAAlC,EAAyCQ,IAAzC,CAA8C,EAA9C,CAAnB;AACArC,IAAAA,MAAM,CAACkC,UAAD,CAAN;AACA1B,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAjBD;;AAmBA,QAAM8B,aAAa,GAAG,CAACV,KAAD,EAAQN,CAAR,KAAc;AAClC;AACA;AACA,QAAIA,CAAC,CAACiB,OAAF,KAAc,CAAd,IAAmBjB,CAAC,CAACQ,MAAF,CAASD,KAAT,KAAmB,EAAtC,IAA4CD,KAAK,GAAG,CAAxD,EAA2D;AACzDN,MAAAA,CAAC,CAACC,cAAF,GADyD,CACrC;;AACpBG,MAAAA,MAAM,CAACM,OAAP,CAAeJ,KAAK,GAAG,CAAvB,EAA0BK,KAA1B,GAFyD,CAEtB;AACpC;AACF,GAPD;;AAUA,QAAMO,kBAAkB,GAAG,YAAY;AACrC,QAAI;AACF,YAAM5B,IAAI,GAAG,MAAMlB,UAAU,CAAC+C,SAAX,CAAqB;AACtC3B,QAAAA,QAAQ,EAAEjB;AAD4B,OAArB,CAAnB;AAGAS,MAAAA,UAAU,CAACM,IAAI,CAACG,KAAL,CAAWC,OAAZ,CAAV;AACD,KALD,CAKE,OAAOD,KAAP,EAAc;AACdK,MAAAA,OAAO,CAACL,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD;AACF,GATD;;AAWA,QAAM2B,SAAS,GAAIpB,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;AACAzB,IAAAA,WAAW,CAACW,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAX;AAEA8B,IAAAA,kBAAkB;AACnB,GALD;;AAOA,sBACE;AAAA,2BACE;AAAS,MAAA,SAAS,EAAC,iBAAnB;AAAqC,MAAA,KAAK,EAAE;AAAEG,QAAAA,OAAO,EAAE;AAAX,OAA5C;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,4BAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,oBAAf;AAAA,mCACE;AAAK,cAAA,SAAS,EAAC,uBAAf;AAAA,sCACE;AAAA,0BAAI;AAAJ;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC,YAAf;AAAA,2BAA4B,qCAA5B,EACoC1C,KADpC;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF,eAME;AAAM,gBAAA,QAAQ,EAAEoB,YAAhB;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,6BACC,CAAC,GAAGuB,KAAK,CAAC,CAAD,CAAT,EAAcT,GAAd,CAAkB,CAACU,CAAD,EAAIjB,KAAJ,kBACf;AAEE,oBAAA,GAAG,EAAGkB,EAAD,IAASpB,MAAM,CAACM,OAAP,CAAeJ,KAAf,IAAwBkB,EAFxC;AAGE,oBAAA,EAAE,EAAG,WAAUlB,KAAK,GAAG,CAAE,EAH3B;AAIE,oBAAA,IAAI,EAAC,QAJP;AAKE,oBAAA,SAAS,EAAE,CALb;AAME,oBAAA,QAAQ,EAAGN,CAAD,IAAOK,iBAAiB,CAACC,KAAD,EAAQN,CAAR,CANpC;AAOE,oBAAA,SAAS,EAAGA,CAAD,IAAOgB,aAAa,CAACV,KAAD,EAAQN,CAAR,CAPjC,CAO6C;;AAP7C,qBACOM,KADP;AAAA;AAAA;AAAA;AAAA,0BADH,CADD,eAaE;AAAO,oBAAA,IAAI,EAAC,QAAZ;AAAqB,oBAAA,SAAS,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,0BAbF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAiBE;AAAK,kBAAA,SAAS,EAAC,gCAAf;AAAA,4BAAiDrB;AAAjD;AAAA;AAAA;AAAA;AAAA,wBAjBF,eAoBE;AAAK,kBAAA,SAAS,EAAC,iBAAf;AAAA,4BAAiC;AAAjC;AAAA;AAAA;AAAA;AAAA,wBApBF,eAqBE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,6BACG,GADH,eAEE;AAAG,oBAAA,IAAI,EAAC,GAAR;AAAY,oBAAA,OAAO,EAAEmC,SAArB;AAAA,8BAAgC;AAAhC;AAAA;AAAA;AAAA;AAAA,0BAFF,EAEmD,GAFnD,eAGE;AAAA,8BAAIrC;AAAJ;AAAA;AAAA;AAAA;AAAA,0BAHF;AAAA;AAAA;AAAA;AAAA;AAAA,wBArBF,eA2BE;AAAK,kBAAA,SAAS,EAAC,kBAAf;AAAA,yCACE;AACE,oBAAA,IAAI,EAAC,OADP;AAEE,oBAAA,SAAS,EAAC,8BAFZ;AAGE,oBAAA,IAAI,EAAC,QAHP;AAAA,+BAKG,GALH,EAKO,kBALP,EAMmB,GANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAyDD,CAnKD;;GAAMT,e;;KAAAA,e;AAqKN,eAAeA,eAAf","sourcesContent":["import { useEffect, useState,useRef } from \"react\";\r\nimport * as apiService from \"../../services\";\r\nimport { toast } from 'react-toastify';\r\n\r\nconst OTPverification = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [otp, setOtp] = useState(\"\");\r\n  const [email, setUseremail] = useState(\"\");\r\n  const [verifyApiData,setVerifyApiData] = useState([]);\r\n  const [sendmsg,setsendmsg] =useState(\"\");\r\n  \r\n  const [otpError, setOtpError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setUsername(localStorage.getItem(\"username\"));\r\n    setUseremail(localStorage.getItem(\"email\"));\r\n  },[])\r\n\r\n  const fetchDataVerifyOtp = async () => {\r\n    try {\r\n      const data = await apiService.verifyOtp({\r\n        userName: username,\r\n        otp: otp,\r\n      });\r\n      setVerifyApiData(data);\r\n\r\n      if(data.data === null){\r\n        // setOtpError(data.error.message);\r\n        toast(data.error.message);\r\n        return;\r\n      }\r\n\r\n      if (data.data.accessToken && data.data.refreshToken) {\r\n        localStorage.setItem('accessToken', data.data.accessToken);\r\n        localStorage.setItem('refreshToken', data.data.refreshToken);\r\n      } else {\r\n        console.error('Error: Invalid response data');\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n\r\n  // submit btn fucntion\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setUsername(localStorage.getItem(\"username\"));\r\n      // Form validation\r\n      if (!otp || otp.length !== 6) {\r\n        // setOtpError(\"\");\r\n        toast(\"Please enter a valid OTP (6 digits)\")\r\n        return;\r\n      }\r\n\r\n      setOtpError(\"\");\r\n      \r\n    console.log(\"otp sent\");\r\n     fetchDataVerifyOtp();\r\n  };\r\n\r\n  const inputs = useRef([]);\r\n\r\n  const handleInputChange = (index, e) => {\r\n    const value = e.target.value;\r\n  \r\n    // Restrict input to only one character\r\n    if (value.length > 1) {\r\n      e.target.value = value.slice(0, 1);\r\n    }\r\n  \r\n    // Move cursor to the next input box if there is a value\r\n    if (value.length === 1 && index < inputs.current.length - 1) {\r\n      inputs.current[index + 1].focus();\r\n    }\r\n  \r\n    // Update the OTP state\r\n    const updatedOtp = inputs.current.map(input => input.value).join('');\r\n    setOtp(updatedOtp);\r\n    setOtpError(\"\");\r\n  }\r\n  \r\n  const handleKeyDown = (index, e) => {\r\n    // If the user pressed the backspace key and the current input box is empty,\r\n    // move the focus to the previous input box\r\n    if (e.keyCode === 8 && e.target.value === \"\" && index > 0) {\r\n      e.preventDefault(); // Prevent default behavior of the backspace key\r\n      inputs.current[index - 1].focus(); // Move focus to the previous input box\r\n    }\r\n  }\r\n  \r\n\r\n  const fetchDataResendOtp = async () => {\r\n    try {\r\n      const data = await apiService.resendOtp({\r\n        userName: username,\r\n      });\r\n      setsendmsg(data.error.message);\r\n    } catch (error) {\r\n      console.error(\"Error:\", error);\r\n    }\r\n  };\r\n\r\n  const resendBtn = (e) => {\r\n    e.preventDefault();\r\n    setUsername(localStorage.getItem(\"username\"));\r\n\r\n    fetchDataResendOtp();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className=\"otpverification\" style={{ display: \"none\" }}>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12\">\r\n            <div className=\"mb-5 mt-5 border-0\">\r\n              <div className=\"card-body text-center\">\r\n                <h5>OTP Verification</h5>\r\n                <div className=\"text-muted\">\r\n                OTP sent successfully to the email {email}\r\n                </div>\r\n              \r\n                <form onSubmit={handleSubmit}>\r\n                  <div className=\"otp-field\">\r\n                  {[...Array(6)].map((_, index) => (\r\n                      <input\r\n                        key={index}\r\n                        ref={(el) => (inputs.current[index] = el)}\r\n                        id={`otpinput${index + 1}`}\r\n                        type=\"number\"\r\n                        maxLength={1}\r\n                        onChange={(e) => handleInputChange(index, e)}\r\n                        onKeyDown={(e) => handleKeyDown(index, e)} // Add this line\r\n                      />\r\n                  ))}\r\n\r\n                    <input type=\"number\" className=\"d-none\" />\r\n                  </div>\r\n\r\n                  <div className=\"error-message text-danger my-2\">{otpError}</div>\r\n                \r\n\r\n                  <div className=\"mb-1 text-muted\">Didn't recieve OTP code? </div>\r\n                  <div className=\"resendOTP\">\r\n                    {\" \"}\r\n                    <a href=\"#\" onClick={resendBtn}>Resend Code </a>{\" \"}\r\n                    <p>{sendmsg}</p>\r\n                  </div>\r\n\r\n                  <div className=\"mt-4 text-center\">\r\n                    <button\r\n                      href=\"/Home\"\r\n                      className=\"btn btn-primary w-100 verify\"\r\n                      type=\"submit\"\r\n                    >\r\n                      {\" \"}\r\n                      Verify & Proceed{\" \"}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OTPverification;"]},"metadata":{},"sourceType":"module"}