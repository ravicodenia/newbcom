{"ast":null,"code":"\"use client\";\n\nimport * as React from 'react';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\n\nexport const BaseSize = 2;\nexport const FontGap = 3;\nexport default function useWatermark(markStyle) {\n  const [watermarkMap] = React.useState(() => new Map());\n\n  const appendWatermark = (base64Url, markWidth, container) => {\n    if (container) {\n      if (!watermarkMap.get(container)) {\n        const newWatermarkEle = document.createElement('div');\n        watermarkMap.set(container, newWatermarkEle);\n      }\n\n      const watermarkEle = watermarkMap.get(container);\n      watermarkEle.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, markStyle), {\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${Math.floor(markWidth)}px`\n      })));\n      container.append(watermarkEle);\n    }\n  };\n\n  const removeWatermark = container => {\n    const watermarkEle = watermarkMap.get(container);\n\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n\n    watermarkMap.delete(container);\n  };\n\n  const isWatermarkEle = ele => Array.from(watermarkMap.values()).includes(ele);\n\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}","map":{"version":3,"sources":["/Users/ravisrivastava/Downloads/newbcom/node_modules/antd/es/watermark/useWatermark.js"],"names":["React","getStyleStr","BaseSize","FontGap","useWatermark","markStyle","watermarkMap","useState","Map","appendWatermark","base64Url","markWidth","container","get","newWatermarkEle","document","createElement","set","watermarkEle","setAttribute","Object","assign","backgroundImage","backgroundSize","Math","floor","append","removeWatermark","removeChild","delete","isWatermarkEle","ele","Array","from","values","includes"],"mappings":"AAAA;;AAEA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAAjB;AACP,OAAO,MAAMC,OAAO,GAAG,CAAhB;AACP,eAAe,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AAC9C,QAAM,CAACC,YAAD,IAAiBN,KAAK,CAACO,QAAN,CAAe,MAAM,IAAIC,GAAJ,EAArB,CAAvB;;AACA,QAAMC,eAAe,GAAG,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,SAAvB,KAAqC;AAC3D,QAAIA,SAAJ,EAAe;AACb,UAAI,CAACN,YAAY,CAACO,GAAb,CAAiBD,SAAjB,CAAL,EAAkC;AAChC,cAAME,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACAV,QAAAA,YAAY,CAACW,GAAb,CAAiBL,SAAjB,EAA4BE,eAA5B;AACD;;AACD,YAAMI,YAAY,GAAGZ,YAAY,CAACO,GAAb,CAAiBD,SAAjB,CAArB;AACAM,MAAAA,YAAY,CAACC,YAAb,CAA0B,OAA1B,EAAmClB,WAAW,CAACmB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBhB,SAAlB,CAAd,EAA4C;AACzFiB,QAAAA,eAAe,EAAG,QAAOZ,SAAU,IADsD;AAEzFa,QAAAA,cAAc,EAAG,GAAEC,IAAI,CAACC,KAAL,CAAWd,SAAX,CAAsB;AAFgD,OAA5C,CAAD,CAA9C;AAIAC,MAAAA,SAAS,CAACc,MAAV,CAAiBR,YAAjB;AACD;AACF,GAbD;;AAcA,QAAMS,eAAe,GAAGf,SAAS,IAAI;AACnC,UAAMM,YAAY,GAAGZ,YAAY,CAACO,GAAb,CAAiBD,SAAjB,CAArB;;AACA,QAAIM,YAAY,IAAIN,SAApB,EAA+B;AAC7BA,MAAAA,SAAS,CAACgB,WAAV,CAAsBV,YAAtB;AACD;;AACDZ,IAAAA,YAAY,CAACuB,MAAb,CAAoBjB,SAApB;AACD,GAND;;AAOA,QAAMkB,cAAc,GAAGC,GAAG,IAAIC,KAAK,CAACC,IAAN,CAAW3B,YAAY,CAAC4B,MAAb,EAAX,EAAkCC,QAAlC,CAA2CJ,GAA3C,CAA9B;;AACA,SAAO,CAACtB,eAAD,EAAkBkB,eAAlB,EAAmCG,cAAnC,CAAP;AACD","sourcesContent":["\"use client\";\n\nimport * as React from 'react';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nexport const BaseSize = 2;\nexport const FontGap = 3;\nexport default function useWatermark(markStyle) {\n  const [watermarkMap] = React.useState(() => new Map());\n  const appendWatermark = (base64Url, markWidth, container) => {\n    if (container) {\n      if (!watermarkMap.get(container)) {\n        const newWatermarkEle = document.createElement('div');\n        watermarkMap.set(container, newWatermarkEle);\n      }\n      const watermarkEle = watermarkMap.get(container);\n      watermarkEle.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, markStyle), {\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${Math.floor(markWidth)}px`\n      })));\n      container.append(watermarkEle);\n    }\n  };\n  const removeWatermark = container => {\n    const watermarkEle = watermarkMap.get(container);\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n    watermarkMap.delete(container);\n  };\n  const isWatermarkEle = ele => Array.from(watermarkMap.values()).includes(ele);\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}"]},"metadata":{},"sourceType":"module"}